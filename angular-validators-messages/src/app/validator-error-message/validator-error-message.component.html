<div *ngIf="control.invalid && (control.touched || formSubmitted)">
  <ng-container *ngFor="let error of control.errors | keyvalue">
    <span *ngIf="messages && messages[error.key]; else messageNotFound" class="validator">
      {{messages[error.key]}}
    </span>
    <ng-template #messageNotFound>
      <span *ngIf="error.value && error.value.message" class="validator">
        {{error.value.message}}
      </span>
    </ng-template>
  </ng-container>
</div>
